@model gym_management_system_front_end.Models.GymViewModel

@{
    ViewData["Title"] = "Details";
}

<div class="container-fluid" style="margin-top:6.6rem;">
    <div class="row">
        <div class="col-md-4 bg-dark rounded p-4 ms-4 me-3">
            <h4 class="text-white mb-4">GymViewModel</h4>
            <table class="table">
                <tr>
                    <th class="text-danger">Gym ID</th>
                    <td class="text-white">@Html.DisplayFor(model => model.GymID)</td>
                </tr>
                <tr>
                    <th class="text-danger">Name</th>
                    <td class="text-white">@Html.DisplayFor(model => model.Name)</td>
                </tr>
                <tr>
                    <th class="text-danger">Max Capacity</th>
                    <td class="text-white">@Model.MaxCapacity</td>
                </tr>
                <tr>
                    <th class="text-danger">Address</th>
                    <td class="text-white">@Model.Address</td>
                </tr>
            </table>

            <div class="form-group text-center mt-3 d-grid gap-2">
                <a asp-action="Index" class="btn btn-secondary ml-2">Back to List</a>
                <a class="btn btn-danger" asp-action="Index" asp-controller="Clients" asp-route-gymid="@Model.GymID">Get Clients</a>
                <a class="btn btn-success" asp-action="AddSupplementToGym" asp-controller="Gyms" asp-route-gymid="@Model.GymID">Add Supplement</a>
            </div>

        </div>

        <div class="col-md-7 mx-1">

            <!-- Equipments -->
            @if (Model.Equipments != null)
            {
                <div class="row bg-dark rounded p-4 mb-3">
                    <h4 class="mb-3 text-white">Equipments</h4>
                    <div class="list-group" style="max-height: 23vh; overflow-y: auto;">

                        @{
                            int counter = 0;
                        }

                        @foreach (var equipment in Model.Equipments)
                        {
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="list-group-item text-white ">
                                        <img src="@equipment.PhotoUrl" class="w-25 h-25" />
                                    </div>
                                    <div class="list-group-item text-white">
                                        Name: @equipment.Name
                                    </div>
                                    <div class="list-group-item text-white">
                                        Quantity: @equipment.Quantity
                                    </div>

                                    <div class="list-group-item text-white">
                                        out of service: @equipment.OutOfService
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            }

            <!-- Supplements -->
            @if (Model.Supplements != null)
            {
                <div class="row bg-dark rounded p-4 mb-3">
                    <h4 class="mb-3 text-white">Supplements</h4>
                    <ul class="list-group" style="max-height: 300px; overflow-y: auto;">
                        @foreach (var supplement in Model.Supplements)
                        {
                            <li class="list-group-item text-white">
                                Name: @supplement.Supplements.Name
                            </li>
                            <li class="list-group-item text-white">
                                Price: @supplement.Supplements.Price
                            </li>
                            <li class="list-group-item text-white">
                                Quantity: @supplement.Quantity
                            </li>
                            <li class="list-group-item text-white border-bottom">
                                <a asp-action="RemoveSupplementFromGym"
                                   asp-route-gymId="@Model.GymID"
                                   asp-route-supplementId="@supplement.SupplementID"
                                   class="btn btn-danger btn-sm">
                                    Remove
                                </a>
                                <a asp-action="UpdateSupplementForGym"
                                   asp-controller="Gyms"
                                   asp-route-gymId="@Model.GymID"
                                   asp-route-supplementId="@supplement.SupplementID"
                                   asp-route-quantity="@supplement.Quantity"
                                   class="btn btn-primary btn-sm">
                                    Update
                                </a>
                            </li>
                        }
                    </ul>
                </div>
            }



            <!-- Subscription Tiers -->
            @if (Model.SubscriptionTier != null)
            {
                <div class="row bg-dark rounded p-4">
                    <h4 class="mb-3 text-white">Subscription Tiers</h4>
                    <ul class="list-group">
                        @foreach (var tier in Model.SubscriptionTier)
                        {
                            <li class="list-group-item text-white">
                                @tier.Name
                                @tier.Price
                            </li>
                        }
                    </ul>
                </div>
            }
        </div>

    </div>

</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
